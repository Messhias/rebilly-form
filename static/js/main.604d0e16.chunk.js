(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(38)},34:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(19),l=a.n(r),c=(a(34),a(35),a(14)),i=a(16),u=a(20),s=a(21),m=a(27),d=a(22),h=a(10),p=a(28),f=a(23),v=a(25),E=a(7),b=a(6),g=a(9),y=a(12),k=a(11),C=a(26),w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={id:7,name:"",email:"",comments:"",token:"",phone:"",error:"",source:window.location.href,resume:null},a.fetchToken=a.fetchToken.bind(Object(h.a)(a)),a.mainInputChange=a.mainInputChange.bind(Object(h.a)(a)),a.submitProcess=a.submitProcess.bind(Object(h.a)(a)),a._mountResume=a._mountResume.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state.id,a=void 0===t?null:t;this.fetchToken(a),this.interval=setInterval(function(){return e.fetchToken(a)},3e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"submitProcess",value:function(e){e.preventDefault();var t=this.state,a=t.name,n=void 0===a?"":a,o=t.comments,r=void 0===o?"":o,l=t.source,c=void 0===l?window.location.href:l,u=t.phone,s=void 0===u?"":u,m=t.email,d=void 0===m?"":m,h=t.token,p=void 0===h?"":h,f=t.id,v=void 0===f?null:f,E=t.resume,b=void 0===E?null:E;if(this.setState({error:""}),""===p&&this.fetchToken(v),""===d||""===n||""===b)this.setState({error:"Fill all the fileds"});else{var g=JSON.stringify({name:n,comments:r,source:c,phone:s,email:d,token:p,posting:v,resume:b}),y=this,k=new XMLHttpRequest;k.addEventListener("load",function(){var e=this.responseText,t=void 0===e?"":e;console.log(this),""!==t&&(t=JSON.parse(t),y.setState(Object(i.a)({},t)))}),k.open("POST","https://cors-anywhere.herokuapp.com/https://app.applybyapi.com/apply/"),k.setRequestHeader("Content-Type","multipart/form-data"),k.setRequestHeader("Accept","*/*"),k.setRequestHeader("Cache-Control","no-cache"),k.setRequestHeader("Postman-Token","e11ed90e-b897-4d3a-a112-2ff2b6475c12,dde1fca5-917b-43d2-b70e-c6d0c132476b"),k.setRequestHeader("cache-control","no-cache"),k.send(g)}}},{key:"mainInputChange",value:function(e){var t=null;e.target?t=e.target.files:e.dataTransfer&&(t=e.dataTransfer.files),t?this._mountResume(t[0]):this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"_mountResume",value:function(e){var t=this,a=new FileReader;a.onload=function(e){t.setState({resume:e.target.result})},a.readAsDataURL(e)}},{key:"fetchToken",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=JSON.stringify({posting:7}),t=this,a=new XMLHttpRequest;a.addEventListener("load",function(){var e=this.responseText,a=void 0===e?"":e;""!==a&&(a=JSON.parse(a),t.setState(Object(i.a)({},a)))}),a.open("POST","https://cors-anywhere.herokuapp.com/https://app.applybyapi.com/gentoken/"),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Accept","*/*"),a.setRequestHeader("Cache-Control","no-cache"),a.setRequestHeader("Postman-Token","e11ed90e-b897-4d3a-a112-2ff2b6475c12,dde1fca5-917b-43d2-b70e-c6d0c132476b"),a.setRequestHeader("cache-control","no-cache"),a.send(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=void 0===a?"":a,r=t.comments,l=void 0===r?"":r,c=t.source,i=void 0===c?window.location.href:c,u=t.phone,s=void 0===u?"":u,m=t.email,d=void 0===m?"":m,h=t.error,p=void 0===h?"":h;return o.a.createElement(f.a,null,o.a.createElement("h3",null,"Welcome to Rebilly application form."),o.a.createElement(v.a,{onSubmit:function(t){return e.submitProcess(t)}},o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(k.a,{for:"name"},"Name"),o.a.createElement(y.a,{placeholder:"Your full name.",type:"text",name:"name",id:"name",value:n,onChange:function(t){return e.mainInputChange(t)},required:!0})))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(k.a,{for:"email"},"Email"),o.a.createElement(y.a,{type:"text",name:"email",id:"email",value:d,onChange:function(t){return e.mainInputChange(t)},placeholder:"your@email.com",required:!0})))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(k.a,{for:"resume"},"Resume"),o.a.createElement(y.a,{type:"file",name:"resume",id:"resume",onChange:function(t){return e.mainInputChange(t)},required:!0})))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(k.a,{for:"phone"},"Phone"),o.a.createElement(y.a,{type:"text",name:"phone",id:"phone",value:s,placeholder:"(xx) xxxx-xxx",onChange:function(t){return e.mainInputChange(t)}})))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(k.a,{for:"source"},"Source"),o.a.createElement(y.a,{type:"text",name:"source",id:"source",value:i,placeholder:"Source of submission.",onChange:function(t){return e.mainInputChange(t)}})))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(k.a,{for:"comments"},"Comments"),o.a.createElement(y.a,{type:"textarea",name:"comments",id:"comments",value:l,onChange:function(t){return e.mainInputChange(t)},placeholder:"Type a nice comment."})))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement(C.a,{color:"primary"},"Submit"))))),o.a.createElement(b.a,null,o.a.createElement(E.a,null,o.a.createElement("p",null,p))),o.a.createElement(b.a,null,o.a.createElement("p",null,o.a.createElement("a",{href:"https://github.com/meshsias"},"Fabio William Concei\xe7\xe3o"))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(function(){return o.a.createElement(w,null)},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.604d0e16.chunk.js.map